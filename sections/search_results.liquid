<section>
  <div>
    <div>
      <h1>Search Results</h1>

      <form action='/search' method='get'>
        <div>
          <label for='search-input'>Search products</label>
          <input
            type='search'
            id='search-input'
            name='q'
            value='{{ search.terms | escape }}'
            placeholder='Search products...'
          >
          <button type='submit'>
            <span>Search</span>
          </button>
        </div>
      </form>
    </div>

    {% if search.performed %}
      <div>
        {% if search.results_count > 0 %}
          <div>
            <p>
              Found <span>{{ search.results_count }}</span> result{{ search.results_count | pluralize: 's' }} for
              <span>"{{ search.terms | escape }}"</span>
            </p>
          </div>

          <div>
            {% for item in search.results %}
              <div>
                <div>
                  {% if item.featured_image %}
                    <img
                      src='{{ item.featured_image | img_url: 'medium' }}'
                      alt='{{ item.featured_image.alt | escape }}'
                      width='400'
                      height='400'
                      loading='lazy'
                    >
                  {% else %}
                    <div>
                      <span>No image</span>
                    </div>
                  {% endif %}
                </div>

                <div>
                  <div>
                    <h3>
                      <a href='{{ item.url }}'>
                        {{ item.title }}
                      </a>
                    </h3>
                    {% if item.vendor %}
                      <p>{{ item.vendor }}</p>
                    {% endif %}
                  </div>
                  {% if item.price %}
                    <p>{{ item.price | money }}</p>
                  {% endif %}
                </div>

                {% if item.description %}
                  <p>{{ item.description | strip_html | truncate: 100 }}</p>
                {% endif %}

                <div>
                  <a href='{{ item.url }}'> View Details </a>
                  <button type='button'>
                    <span>Add to Favorites</span>
                  </button>
                </div>

                {% if item.compare_at_price and item.compare_at_price > item.price %}
                  <div>
                    <span>Sale</span>
                  </div>
                {% endif %}
              </div>
            {% endfor %}
          </div>
        {% else %}
          <div>
            <h2>No results found</h2>
            <p>
              No results found for <span>"{{ search.terms | escape }}"</span>
            </p>
            <div>
              <p>Try checking your spelling or using different keywords.</p>
              <a href='/collections'> Browse All Products </a>
            </div>
          </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Search Results",
  "settings": [],
  "presets": [
    {
      "name": "Search Results"
    }
  ]
}
{% endschema %}
