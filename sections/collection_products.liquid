<section>
  <div>
    <div>
      <h1>{{ collection.title }}</h1>

      {% if collection.description != blank %}
        <p>{{ collection.description }}</p>
      {% endif %}
    </div>

    <div>
      {% paginate collection.products by 12 %}
        <div>
          {% for product in collection.products %}
            <div>
              <div>
                {% if product.featured_image %}
                  <img
                    src='{{ product.featured_image | img_url: 'medium' }}'
                    alt='{{ product.featured_image.alt | escape }}'
                    width='400'
                    height='400'
                    loading='lazy'
                  >
                {% else %}
                  <div>
                    <span>No image</span>
                  </div>
                {% endif %}
              </div>

              <div>
                <div>
                  <h3>
                    <a href='{{ product.url }}'>
                      <span aria-hidden='true' class='absolute inset-0'></span>
                      {{ product.title }}
                    </a>
                  </h3>
                  {% if product.vendor %}
                    <p>{{ product.vendor }}</p>
                  {% endif %}
                </div>
                <p>{{ product.price | money }}</p>
              </div>

              <div>
                <a href='{{ product.url }}'> View Details </a>
                <button type='button'>
                  <span>Add to Favorites</span>
                </button>
              </div>

              {% if product.compare_at_price > product.price %}
                <div>
                  <span>Sale</span>
                </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>

        {% if paginate.pages > 1 %}
          <nav aria-label='Pagination'>
            <div>
              {% if paginate.previous %}
                <a href='{{ paginate.previous.url }}' aria-label='Previous page'>
                  <span>Previous</span>
                </a>
              {% endif %}

              <span>Page {{ paginate.current_page }} of {{ paginate.pages }}</span>

              {% if paginate.next %}
                <a href='{{ paginate.next.url }}' aria-label='Next page'>
                  <span>Next</span>
                </a>
              {% endif %}
            </div>
          </nav>
        {% endif %}
      {% endpaginate %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Collection Products",
  "settings": [],
  "presets": [
    {
      "name": "Collection Products"
    }
  ]
}
{% endschema %}
